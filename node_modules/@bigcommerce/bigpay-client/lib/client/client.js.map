{"version":3,"file":"client.js","names":["_objectAssign","_interopRequireDefault","require","_offsitePaymentInitializer","_paymentSubmitter","_clientTokenGenerator","_storeRequestSender","_defaultConfig","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","Client","config","paymentSubmitter","offsitePaymentInitializer","clientTokenGenerator","storeRequestSender","value","setHost","host","initializeOffsitePayment","data","callback","submitPayment","generateClientToken","loadInstruments","loadInstrumentsWithAddress","deleteShopperInstrument","create","clientConfig","objectAssign","DEFAULT_CONFIG","OffsitePaymentInitializer","PaymentSubmitter","ClientTokenGenerator","StoreRequestSender","exports"],"sources":["../../src/client/client.js"],"sourcesContent":["import objectAssign from 'object-assign';\nimport OffsitePaymentInitializer from '../payment/offsite-payment-initializer';\nimport PaymentSubmitter from '../payment/payment-submitter';\nimport ClientTokenGenerator from '../payment/client-token-generator';\nimport StoreRequestSender from '../store/store-request-sender';\nimport DEFAULT_CONFIG from './default-config';\n\nexport default class Client {\n    /**\n     * @param {Object} config\n     * @returns {Client}\n     */\n    static create(config) {\n        const clientConfig = objectAssign({}, DEFAULT_CONFIG, config);\n        const offsitePaymentInitializer = OffsitePaymentInitializer.create(clientConfig);\n        const paymentSubmitter = PaymentSubmitter.create(clientConfig);\n        const clientTokenGenerator = ClientTokenGenerator.create(clientConfig);\n        const storeRequestSender = StoreRequestSender.create(clientConfig);\n\n        return new Client(\n            clientConfig,\n            paymentSubmitter,\n            offsitePaymentInitializer,\n            clientTokenGenerator,\n            storeRequestSender,\n        );\n    }\n\n    /**\n     * @param {Object} config\n     * @param {PaymentSubmitter} paymentSubmitter\n     * @param {OffsitePaymentInitializer} offsitePaymentInitializer\n     * @param {ClientTokenGenerator} clientTokenGenerator\n     * @param {StoreRequestSender} storeRequestSender\n     */\n    constructor(\n        config,\n        paymentSubmitter,\n        offsitePaymentInitializer,\n        clientTokenGenerator,\n        storeRequestSender,\n    ) {\n        /**\n         * @private\n         * @type {Object}\n         */\n        this.config = config;\n\n        /**\n         * @private\n         * @type {PaymentSubmitter}\n         */\n        this.paymentSubmitter = paymentSubmitter;\n\n        /**\n         * @private\n         * @type {OffsitePaymentInitializer}\n         */\n        this.offsitePaymentInitializer = offsitePaymentInitializer;\n\n        /**\n         * @private\n         * @type {ClientTokenGenerator}\n         */\n        this.clientTokenGenerator = clientTokenGenerator;\n\n        /**\n         * @private\n         * @type {StoreRequestSender}\n         */\n        this.storeRequestSender = storeRequestSender;\n    }\n\n    /**\n     * @param {string} host\n     * @returns {void}\n     */\n    setHost(host) {\n        this.config.host = host;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @param {string} target\n     * @returns {void}\n     */\n    initializeOffsitePayment(data, callback, target) {\n        this.offsitePaymentInitializer.initializeOffsitePayment(data, callback, target);\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    submitPayment(data, callback) {\n        this.paymentSubmitter.submitPayment(data, callback);\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    generateClientToken(data, callback) {\n        this.clientTokenGenerator.generateClientToken(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.customerId\n     * @param {string} data.currencyCode\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    loadInstruments(data, callback) {\n        this.storeRequestSender.loadInstruments(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.customerId\n     * @param {string} data.currencyCode\n     * @param {AddressData} data.shippingAddress\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    loadInstrumentsWithAddress(data, callback) {\n        this.storeRequestSender.loadInstrumentsWithAddress(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.customerId\n     * @param {string} data.instrumentId\n     * @param {string} data.currencyCode\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    deleteShopperInstrument(data, callback) {\n        this.storeRequestSender.deleteShopperInstrument(data, callback);\n    }\n}\n"],"mappings":"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"}