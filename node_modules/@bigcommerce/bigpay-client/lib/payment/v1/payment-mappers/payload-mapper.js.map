{"version":3,"file":"payload-mapper.js","names":["_utils","require","_customerMapper","_interopRequireDefault","_orderMapper","_paymentMapper","_storeMapper","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","PayloadMapper","customerMapper","orderMapper","paymentMapper","storeMapper","value","mapToPayload","data","_data$order","order","additionalAction","omitNil","customer","mapToCustomer","notify_url","callbackUrl","mapToOrder","payment","mapToPayment","store","mapToStore","additional_action","mapToHeaders","authToken","Authorization","create","CustomerMapper","OrderMapper","PaymentMapper","StoreMapper","exports"],"sources":["../../../../src/payment/v1/payment-mappers/payload-mapper.js"],"sourcesContent":["import { omitNil } from '../../../common/utils';\nimport CustomerMapper from './customer-mapper';\nimport OrderMapper from './order-mapper';\nimport PaymentMapper from './payment-mapper';\nimport StoreMapper from './store-mapper';\n\nexport default class PayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        const customerMapper = CustomerMapper.create();\n        const orderMapper = OrderMapper.create();\n        const paymentMapper = PaymentMapper.create();\n        const storeMapper = StoreMapper.create();\n\n        return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);\n    }\n\n    /**\n     * @param {CustomerMapper} customerMapper\n     * @param {OrderMapper} orderMapper\n     * @param {PaymentMapper} paymentMapper\n     * @param {StoreMapper} storeMapper\n     */\n    constructor(customerMapper, orderMapper, paymentMapper, storeMapper) {\n        /**\n         * @private\n         * @type {CustomerMapper}\n         */\n        this.customerMapper = customerMapper;\n\n        /**\n         * @private\n         * @type {OrderMapper}\n         */\n        this.orderMapper = orderMapper;\n\n        /**\n         * @private\n         * @type {PaymentMapper}\n         */\n        this.paymentMapper = paymentMapper;\n\n        /**\n         * @private\n         * @type {StoreMapper}\n         */\n        this.storeMapper = storeMapper;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { order = {}, additionalAction } = data;\n\n        return omitNil({\n            customer: this.customerMapper.mapToCustomer(data),\n            notify_url: order.callbackUrl,\n            order: this.orderMapper.mapToOrder(data),\n            payment: this.paymentMapper.mapToPayment(data),\n            store: this.storeMapper.mapToStore(data),\n            additional_action: additionalAction,\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"],"mappings":"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"}