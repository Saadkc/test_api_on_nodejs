{"version":3,"file":"ppsdk-payload-mapper.js","names":["_utils","require","_paymentMethodTypes","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","PpsdkPayloadMapper","value","mapToPayload","data","additionalAction","_data$payment","payment","paymentMethod","omitNil","instrument","expires","month","ccExpiry","toNumber","year","name","ccName","number","ccNumber","verification_value","ccCvv","type","PPSDK_CREDIT_CARD","form_nonce","hostedFormNonce","payment_method_id","id","human_verification","parameters","token","human_verification_token","mapToHeaders","authToken","Authorization","create","exports","default"],"sources":["../../../../src/payment/ppsdk/payment-mappers/ppsdk-payload-mapper.js"],"sourcesContent":["import { omitNil, toNumber } from '../../../common/utils';\nimport { PPSDK_CREDIT_CARD } from '../../payment-method-types';\n\nexport default class PpsdkPayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        return new PpsdkPayloadMapper();\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { additionalAction, payment = {}, paymentMethod } = data;\n\n        return omitNil({\n            instrument: {\n                expires: {\n                    month: payment.ccExpiry ? toNumber(payment.ccExpiry.month) : null,\n                    year: payment.ccExpiry ? toNumber(payment.ccExpiry.year) : null,\n                },\n                name: payment.ccName,\n                number: payment.ccNumber,\n                verification_value: payment.ccCvv,\n                type: PPSDK_CREDIT_CARD,\n            },\n            form_nonce: payment.hostedFormNonce,\n            payment_method_id: paymentMethod.id,\n            human_verification: additionalAction ? {\n                id: 'recaptcha_v2_verification',\n                parameters: {\n                    token: additionalAction ? additionalAction.data.human_verification_token : null,\n                },\n            } : null,\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"],"mappings":"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"}